<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Poiz Exchange</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="./styles.css?v=70">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="./pricing.js?v=70"></script>
  <script src="./index.js?v=70" defer></script>
  <style>
    body { font-family: Arial, sans-serif; background:#0f1115; color:#fff; margin:0; padding:15px; }
    h2 { text-align:center; margin:20px 0 10px; font-size:20px; }
    .chips { display:flex; justify-content:center; gap:10px; margin:10px 0; }
    .chip { padding:6px 14px; border-radius:8px; background:#222; color:#fff; cursor:pointer; border:none; }
    .chip.active { background:#3b82f6; }
    .tiles { display:flex; flex-wrap:wrap; gap:10px; margin:10px 0; justify-content:center; }
    .tile { background:#1e1e1e; border:1px solid #333; border-radius:8px; width:90px; height:90px; display:flex; flex-direction:column; align-items:center; justify-content:center; cursor:pointer; }
    .tile.active { border:2px solid #3b82f6; }
    .tile img { width:30px; height:30px; margin-bottom:6px; }
    .tile .cap { font-size:13px; text-align:center; }
    .row { margin:15px 0; }
    .row label { display:block; margin-bottom:6px; font-size:14px; }
    input, select, textarea { width:100%; padding:8px; border-radius:6px; border:1px solid #444; background:#111; color:#fff; }
    textarea { resize:vertical; }
    #rateBlock { margin:15px 0; text-align:center; font-size:15px; }
    #sendBtn { width:100%; padding:14px; background:#3b82f6; border:none; border-radius:8px; font-size:16px; color:#fff; cursor:pointer; margin-top:15px; }
    #sendBtn:disabled { opacity:.5; cursor:not-allowed; }
    #hint { color:#f87171; text-align:center; margin:10px 0; }
  </style>
</head>
<body>
  <h2>Poiz Exchange</h2>
  <div id="hint" hidden>Откройте калькулятор в Telegram WebApp</div>

  <div class="row">
    <h3>Отдаю</h3>
    <div id="from-pay" class="chips">
      <button class="chip" data-type="cash">Наличные</button>
      <button class="chip" data-type="bank">Банк</button>
      <button class="chip" data-type="crypto">Крипто</button>
    </div>
    <div id="from-citybox" class="row">
      <label for="cityFrom">Город</label>
      <select id="cityFrom">
        <option value="moscow">Москва</option>
        <option value="guangzhou">Гуанчжоу</option>
      </select>
    </div>
    <div id="from-currencies" class="tiles"></div>
  </div>

  <div class="row">
    <h3>Получаю</h3>
    <div id="to-pay" class="chips">
      <button class="chip" data-type="cash">Наличные</button>
      <button class="chip" data-type="bank">Банк</button>
      <button class="chip" data-type="crypto">Крипто</button>
      <button class="chip" data-type="cnpay">CN Pay</button>
    </div>
    <div id="to-citybox" class="row">
      <label for="cityTo">Город</label>
      <select id="cityTo">
        <option value="moscow">Москва</option>
        <option value="guangzhou">Гуанчжоу</option>
      </select>
    </div>
    <div id="to-currencies" class="tiles"></div>
  </div>

  <div id="rateBlock">
    Курс: <span id="rateVal">—</span><br>
    Сумма к получению: <span id="totalVal">—</span>
  </div>

  <div class="row">
    <label for="amount">Сумма отдаю</label>
    <input type="number" id="amount" placeholder="Введите сумму">
  </div>

  <div class="row">
    <label for="contact">Ваш контакт (Telegram/телефон)</label>
    <input type="text" id="contact" placeholder="@username или номер">
  </div>

  <div class="row">
    <label for="requisites">Реквизиты для получения</label>
    <textarea id="requisites" rows="2" placeholder="Карта / кошелёк / адрес"></textarea>
  </div>

  <div class="row">
    <label for="note">Комментарий</label>
    <textarea id="note" rows="2"></textarea>
  </div>

  <div id="qrbox" class="row" hidden>
    <label for="qrfile">QR для оплаты</label>
    <input type="file" id="qrfile" accept="image/*">
  </div>

  <button id="sendBtn">Отправить заявку</button>
</body>
</html>
