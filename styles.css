/* Telegram-like clean white UI + blue accents with gentle blue shadows (v33) */
:root{
  --bg:#ffffff; --ink:#0f1a2e; --muted:#5f6b85; --line:#e7ecf3;
  --primary:#0e78ff; --focus:#a6d2ff; --shadow-blue:0 10px 28px rgba(14,120,255,.18);
}
*{ box-sizing:border-box } html,body{height:100%}
body{ margin:0; font-family: Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--ink); background:var(--bg) }
.wrap{ width:100%; max-width:420px; margin:0 auto; padding:16px }
.main-safe{ padding-bottom: calc(12px + env(safe-area-inset-bottom)) }

/* Prevent zoom jank on iOS */
input, select, textarea, button{ font-size:16px }

/* Header */
.tg-header{ position:sticky; top:0; background:rgba(255,255,255,.92); backdrop-filter:saturate(160%) blur(8px); border-bottom:1px solid var(--line); z-index:10; box-shadow:0 6px 18px rgba(14,120,255,.08) }
.title{ margin:10px 0; text-align:center; font-weight:1000; letter-spacing:.06em; color:#0b2c66; font-size:22px }
.title.small{ font-size:18px }

/* Card with blue drop shadow */
.card{ background:#fff; border:1px solid var(--line); border-radius:16px; padding:14px; margin:12px 0; box-shadow:var(--shadow-blue) }
.card.compact{ padding:10px }
.h2{ margin:6px 0 10px; font-size:16px; color:#0b2c66; font-weight:1000; letter-spacing:.02em }
.label{ display:block; margin:8px 0 6px; font-size:12px; color:var(--muted); font-weight:700 }

/* Inputs */
.input{ width:100%; border:1px solid var(--line); background:#fff; color:var(--ink); padding:10px 12px; border-radius:12px; font-size:16px; outline:none; box-shadow:0 2px 8px rgba(14,120,255,.06) }
.input:focus{ border-color:var(--focus); box-shadow:0 0 0 3px rgba(14,120,255,.12), 0 8px 24px rgba(14,120,255,.10) }
.input-file{ width:100%; border:1px dashed var(--line); background:#f9fbff; padding:10px; border-radius:12px }

/* Chips: allow wrapping so everything fits on one screen */
.chips{ display:flex; gap:8px }
.chips.wrap{ flex-wrap:wrap }
.chip{ flex:1; display:flex; gap:8px; align-items:center; justify-content:center; padding:10px 8px; border:1px solid var(--line); border-radius:12px; background:#fff; color:#0b2c66; font-weight:1000; cursor:pointer; box-shadow:0 4px 12px rgba(14,120,255,.12) }
.chip.full{ flex: 1 1 100% } /* full width for long label 'Китайские сервисы' */
.chip img{ width:18px; height:18px; object-fit:contain }
.chip.active{ border-color:#7ec3ff; box-shadow:0 0 0 3px rgba(14,120,255,.12), 0 12px 26px rgba(14,120,255,.16) }

/* City box */
.citybox{ margin:10px 0 6px; padding:10px; border:1px dashed var(--line); border-radius:12px; background:linear-gradient(180deg, rgba(14,120,255,.03), rgba(14,120,255,.05)) }

/* Tiles: 3 per row for iPhone */
.tiles{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-top:8px }
.tile{ display:flex; flex-direction:column; align-items:center; gap:6px; padding:12px; min-height:100px; border:1px solid var(--line); background:#fff; border-radius:14px; cursor:pointer; transition:.12s; box-shadow:0 2px 10px rgba(14,120,255,.10) }
.tile:hover{ transform:translateY(-1px) } .tile.active{ border-color:#7ec3ff; box-shadow:0 0 0 3px rgba(14,120,255,.12), 0 14px 24px rgba(14,120,255,.16) }
.ico{ width:40px; height:40px; display:flex; align-items:center; justify-content:center }
.ico img{ width:40px; height:40px; object-fit:contain }
.cap{ font-weight:1000; font-size:13px; letter-spacing:.2px; color:#0b2c66; text-align:center }
.sub{ font-weight:800; color:#446 }

/* Calculation block (polished) */
.calc-grid{ display:grid; grid-template-columns:1fr; gap:12px } @media(min-width:380px){ .calc-grid{ grid-template-columns:1fr 1fr } }
.result-card{ border:1px solid var(--line); border-radius:14px; padding:12px; background:linear-gradient(180deg, #fff, #f6f9ff); box-shadow:0 6px 18px rgba(14,120,255,.12) }
.result-line{ display:flex; align-items:flex-end; justify-content:space-between; padding:6px 0; border-bottom:1px dashed #edf2fa }
.result-line:last-child{ border-bottom:none }
.r-cap{ font-size:12px; color:#6c7bad; font-weight:1000; letter-spacing:.02em }
.r-val{ font-size:17px; font-weight:1000; color:#0e78ff }
.r-big{ font-size:19px; font-weight:1000; color:#0a3ea1 }

/* Submit */
.btn-primary{ width:100%; background:linear-gradient(180deg, #1aa3ff, #0e78ff); color:#fff; border:none; border-radius:12px; padding:12px 14px; font-weight:1000; letter-spacing:.2px; cursor:pointer; transition:.15s; box-shadow:0 16px 36px rgba(14,120,255,.26) }
.btn-primary:active,.btn-primary:hover{ transform:translateY(-1px); filter:saturate(110%) }
.hint{ color:#a33; font-size:12px; margin:8px 0 0 }

/* Footer links */
.footlinks{ display:flex; gap:12px; justify-content:center; padding:8px 0 calc(12px + env(safe-area-inset-bottom)) }
.footlinks a{ color:#0b2c66; text-decoration:none; font-weight:1000; padding:6px 10px; border-radius:10px; background:#f6f9ff; border:1px solid var(--line); box-shadow:0 4px 10px rgba(14,120,255,.08) }
